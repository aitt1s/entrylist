!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Draft"),require("Immutable")):"function"==typeof define&&define.amd?define(["Draft","Immutable"],t):"object"==typeof exports?exports.DraftConvert=t(require("Draft"),require("Immutable")):e.DraftConvert=t(e.Draft,e.Immutable)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseHTML=t.convertFromHTML=t.convertToHTML=void 0;var i=n(9),o=r(i),l=n(8),u=r(l),a=n(3),s=r(a);t.convertToHTML=o.default,t.convertFromHTML=u.default,t.parseHTML=s.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.offset===t.offset?t.length-e.length:e.offset-t.offset}},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,l,u){if(!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,i,o,l,u],f=0;a=new Error(t.replace(/%s/g,function(){return s[f++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}};e.exports=r},function(e,t){"use strict";function n(e){var t=void 0;if("undefined"!=typeof DOMParser){var n=new DOMParser;t=n.parseFromString(e,"text/html"),null!==t&&null!==t.body||(t=r(e))}else t=r(e);return t.body}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=function(e){var t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=e,t}},function(e,t){"use strict";function n(e,t,n,r){var i=r-n;return t+n<=e.offset?Object.assign({},e,{offset:e.offset+i}):t>=e.offset&&t+n<=e.offset+e.length?Object.assign({},e,{length:e.length+i}):e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),l=n(1),u=r(l),a=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(e.type){case"mergeTag":return"{{ "+e.data.prefix+"."+e.data.property+" }}";case"LINK":return'<a href="'+e.data.url+'">'+t+"</a>";default:return t}};t.default=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?a:arguments[2],r=e.text;if(e.hasOwnProperty("entityRanges")&&e.entityRanges.length>0){for(var i=e.entityRanges.sort(u.default),l=e.inlineStyleRanges,s=function(e){var u=i[e],a=t[u.key],s=r.substr(u.offset,u.length),f=n(a,s)||s,d=function(t,n){return n>=e||t.hasOwnProperty("style")?(0,o.default)(t,u.offset,u.length,f.length):t};i=i.map(d),l=l.map(d),r=r.substring(0,u.offset)+f+r.substring(u.offset+u.length)},f=0;f<i.length;f++)s(f);return Object.assign({},e,{text:r,inlineStyleRanges:l,entityRanges:i})}return e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),l=n(11),u=r(l),a=n(1),s=r(a),f=function(e,t){return e.filter(function(e){return!t.some(function(t){return t.style===e.style})})},d=function(e,t){return t.reduceRight(function(e,t){var n=e[e.length-1];return(0,o.default)(n.style===t.style,"Style "+n.style+" to be removed doesn't match expected "+t.style),e.slice(0,-1)},e)},c=function(e,t){return t.filter(function(t){return e>=t.offset&&e<t.offset+t.length})},p=function(e,t){var n=e.offset<=t.offset,r=e.offset+e.length>=t.offset+t.length;return n&&r},h=function(e,t){var n=t.offset+t.length,r=e.offset+e.length;return n-r},v=function(e,t){for(var n=0;n<e.length;){if(!t.every(p.bind(null,e[n])))return e.slice(n);n++}return[]},y=function(e,t,n){return t+e[n.style].start},g=function(e,t,n){return e[n.style].end+t};t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o.default)(null!==e&&void 0!==e,"Expected raw block to be non-null");for(var n=Object.assign({},u.default,t),r="",i=[],l=e.inlineStyleRanges.sort(s.default),a=0;a<e.text.length;a++){var p=c(a,l),m=f(i,p),b=f(p,i),x=f(i,m),M=v(x,b),O=M.concat(b).sort(h),_=O.reduce(y.bind(null,n),""),T=m.concat(M).reduce(g.bind(null,n),"");r+=T+_+e.text[a],i=d(i,M.concat(m)),i=i.concat(O),(0,o.default)(i.length===p.length,"Character "+a+": "+(i.length-p.length)+" styles left on stack that should no longer be there")}return r=i.reduceRight(function(e,t){return e+n[t.style].end},r)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return{text:"",inlines:[],entities:[],blocks:[]}}function o(e){var t=new Array(1);return e&&(t[0]=e),{text:T,inlines:[(0,y.OrderedSet)()],entities:t,blocks:[]}}function l(e,t){var n=arguments.length<=2||void 0===arguments[2]?(0,y.Map)():arguments[2];return{text:"\r",inlines:[(0,y.OrderedSet)()],entities:new Array(1),blocks:[{type:e,data:n,depth:Math.max(0,Math.min(k,t))}],isNewline:!0}}function u(e,t){var n=arguments.length<=2||void 0===arguments[2]?(0,y.Map)():arguments[2];return{text:"\r",inlines:[(0,y.OrderedSet)()],entities:new Array(1),blocks:[{type:e,data:n,depth:Math.max(0,Math.min(k,t))}]}}function a(e,t){switch(e){case"h1":return"header-one";case"h2":return"header-two";case"h3":return"header-three";case"h4":return"header-four";case"h5":return"header-five";case"h6":return"header-six";case"li":return"ol"===t?"ordered-list-item":"unordered-list-item";case"blockquote":return"blockquote";case"pre":return"code-block";default:return"unstyled"}}function s(e,t,n){var r=j[e];return r?n=n.add(r).toOrderedSet():t instanceof HTMLElement&&!function(){var e=t;n=n.withMutations(function(t){"bold"===e.style.fontWeight&&t.add("BOLD"),"italic"===e.style.fontStyle&&t.add("ITALIC"),"underline"===e.style.textDecoration&&t.add("UNDERLINE"),"line-through"===e.style.textDecoration&&t.add("STRIKETHROUGH")}).toOrderedSet()}(),n}function f(e,t){var n=t.text.slice(0,1),r=e.text.slice(-1),i="\r"===r&&"\r"===n,o="\r"!==e.text&&"\r"!==t.text,l="\r"===e.text&&!e.isNewline&&t.isNewline;if(i&&(o||l)&&(e.text=e.text.slice(0,-1),e.inlines.pop(),e.entities.pop(),e.blocks.pop()),"\r"===e.text.slice(-1)){if(t.text===T||"\n"===t.text)return e;n!==T&&"\n"!==n||(t.text=t.text.slice(1),t.inlines.shift(),t.entities.shift())}var u=0===e.text.length&&t.isNewline;return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks),isNewline:u}}function d(e){return L.some(function(t){return e.indexOf("<"+t)!==-1})}function c(e,t,n,r,d,p,h,g,m,b,x){var M=e.nodeName.toLowerCase(),_=!1,k="unstyled";if("#text"===M){var w=function(){var n=e.textContent;if(""===n.trim()&&"code-block"!==r)return{v:o(x)};"code-block"!==r&&(n=n.replace(E,T)),I=M;var i=Array(n.length).fill(x),l=0,u=m(n).sort(O.default);return u.forEach(function(e){var t=e.entity,r=e.offset,o=e.length,u=e.result,a=r+l;null!==u&&void 0!==u||(u=n.substr(a,o));var s=n.split("");s.splice.bind(s,a,o).apply(s,u.split("")),n=s.join(""),i.splice.bind(i,a,o).apply(i,Array(u.length).fill(t)),l+=u.length-o}),{v:{text:n,inlines:Array(n.length).fill(t),entities:i,blocks:[]}}}();if("object"===("undefined"==typeof w?"undefined":v(w)))return w.v}if(I=M,"br"===M){var R=r;return l(R||"unstyled",p)}var S=i(),L=null;t=s(M,e,t),t=h(M,e,t),"ul"!==M&&"ol"!==M||(n&&(p+=1),n=M,r=null);var j=b(M,e,n,r)||{},D=void 0,H=void 0;if("string"==typeof j?(D=j,H=(0,y.Map)()):(D="string"==typeof j?j:j.type,H=j.data?(0,y.Map)(j.data):(0,y.Map)()),r||d.indexOf(M)===-1&&!D)if(!n||"ordered-list-item"!==r&&"unordered-list-item"!==r||"li"!==M)r&&"atomic"!==r&&"atomic"===D&&(r=D,_=!0,S=l(D,p,H));else{var P=a(M,n);S=u(P,p),r=P,_=!0,k="ul"===n?"unordered-list-item":"ordered-list-item"}else S=u(D||a(M,n),p,H),r=D||a(M,n),_=!0;var C=e.firstChild;null!=C||!x||"atomic"!==D&&"atomic"!==r||(C=document.createTextNode("a")),null!=C&&(M=C.nodeName.toLowerCase());for(var N=null;C;){N=g(M,C),L=c(C,t,n,r,d,p,h,g,m,b,N||x),S=f(S,L);var A=C.nextSibling;if(A&&d.indexOf(M)>=0&&r){var q=b(M,e,n,r)||{},B=void 0,U=void 0;"string"==typeof q?(B=q,U=(0,y.Map)()):(B=q.type||a(M,n),U=q.data?(0,y.Map)(q.data):(0,y.Map)()),S=f(S,l(B,p,U))}A&&(M=A.nodeName.toLowerCase()),C=A}return _&&(S=f(S,u(k,p,(0,y.Map)()))),S}function p(e,t,n,r,i,o){e=e.trim().replace(w,"").replace(R,T);var l=o(e);if(!l)return null;I=null;var u=d(e)?L.concat(["div"]):["div"],a=c(l,(0,y.OrderedSet)(),"ul",null,u,-1,t,n,r,i);return 0===a.text.indexOf("\r")&&(a={text:a.text.slice(1),inlines:a.inlines.slice(1),entities:a.entities.slice(1),blocks:a.blocks}),"\r"===a.text.slice(-1)&&(a.text=a.text.slice(0,-1),a.inlines=a.inlines.slice(0,-1),a.entities=a.entities.slice(0,-1),a.blocks.pop()),0===a.blocks.length&&a.blocks.push({type:"unstyled",data:(0,y.Map)(),depth:0}),a.text.split("\r").length===a.blocks.length+1&&a.blocks.unshift({type:"unstyled",data:(0,y.Map)(),depth:0}),a}function h(e,t,n,r,i,o){var l=p(e,t,n,r,i,o);if(null==l)return[];var u=0;return l.text.split("\r").map(function(e,t){e=A(e);var n=u+e.length,r=N(l).inlines.slice(u,n),i=N(l).entities.slice(u,n),o=(0,y.List)(r.map(function(e,t){var n={style:e,entity:null};return i[t]&&(n.entity=i[t]),m.CharacterMetadata.create(n)}));return u=n+1,new m.ContentBlock({key:(0,m.genKey)(),type:N(l).blocks[t].type,data:N(l).blocks[t].data,depth:N(l).blocks[t].depth,text:e,characterList:o})})}Object.defineProperty(t,"__esModule",{value:!0});var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},y=n(15),g=n(2),m=(r(g),n(5)),b=n(3),x=r(b),M=n(1),O=r(M),_="&nbsp;",T=" ",k=4,w=new RegExp("\r","g"),E=new RegExp("\n","g"),R=new RegExp(_,"g"),S=new RegExp("\r","g"),L=["p","h1","h2","h3","h4","h5","h6","li","blockquote","pre"],j={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"},I=void 0,D=function(e,t,n){},H=function(e,t,n){return n},P=function(e,t){},C=function(e){return[]},N=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")},A=function(e){return e.replace(S,"")},q=function(e){var t=e.htmlToStyle,n=void 0===t?H:t,r=e.htmlToEntity,i=void 0===r?P:r,o=e.textToEntity,l=void 0===o?C:o,u=e.htmlToBlock,a=void 0===u?D:u;return function(e){var t=arguments.length<=1||void 0===arguments[1]?x.default:arguments[1];return m.ContentState.createFromBlockArray(h(e,n,i,l,a,t))}};t.default=function(){return arguments.length>=1&&"string"==typeof(arguments.length<=0?void 0:arguments[0])?q({}).apply(void 0,arguments):q.apply(void 0,arguments)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),l=n(5),u=n(12),a=r(u),s=n(6),f=r(s),d=n(7),c=r(d),p=n(10),h=r(p),v=n(13),y=r(v),g=n(14),m=r(g),b=["ordered-list-item","unordered-list-item"],x=function(e,t){return t},M=function(e){var t=e.styleToHTML,n=void 0===t?{}:t,r=e.blockToHTML,i=void 0===r?{}:r,u=e.entityToHTML,s=void 0===u?x:u;return function(e){(0,o.default)(null!==e&&void 0!==e,"Expected contentState to be non-null");var t=(0,y.default)((0,m.default)(i),(0,m.default)(h.default)),r=(0,l.convertToRaw)(e),u=[],d=r.blocks.map(function(e){var i=e.type,o=e.depth,l="",d="";if(b.indexOf(i)===-1)l=u.reduceRight(function(e,n){return e+t(n).nestEnd},""),u=[];else for(;o+1!==u.length||i!==u[o].type;)if(o+1===u.length){var p=u[o];l+=t(p).nestEnd,d+=t(e).nestStart,u[o]=e}else if(o+1<u.length){var h=u[u.length-1];l+=t(h).nestEnd,u=u.slice(0,-1)}else d+=t(e).nestStart,u.push(e);var v=(0,c.default)((0,f.default)((0,a.default)(e),r.entityMap,s),n),y=t(e).start+v+t(e).end;return 0===v.length&&t(e).hasOwnProperty("empty")&&(y=t(e).empty),l+d+y}).join("");return d=u.reduce(function(e,n){return e+t(n).nestEnd},d)}};t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&t[0].hasOwnProperty("_map")&&null!=t[0].getBlockMap?M({}).apply(void 0,t):M.apply(void 0,t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={unstyled:{start:"<p>",end:"</p>"},paragraph:{start:"<p>",end:"</p>"},"header-one":{start:"<h1>",end:"</h1>"},"header-two":{start:"<h2>",end:"</h2>"},"header-three":{start:"<h3>",end:"</h3>"},"header-four":{start:"<h4>",end:"</h4>"},"header-five":{start:"<h5>",end:"</h5>"},"header-six":{start:"<h6>",end:"</h6>"},"unordered-list-item":{start:"<li>",end:"</li>",nestStart:"<ul>",nestEnd:"</ul>"},"ordered-list-item":{start:"<li>",end:"</li>",nestStart:"<ol>",nestEnd:"</ol>"},media:{start:"<figure>",end:"</figure>"}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BOLD:{start:"<strong>",end:"</strong>"},ITALIC:{start:"<em>",end:"</em>"},UNDERLINE:{start:"<u>",end:"</u>"},CODE:{start:"<code>",end:"</code>"}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),l=n(1),u=r(l),a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};t.default=function(e){for(var t=e.text,n=e.entityRanges.sort(u.default),r=e.inlineStyleRanges.sort(u.default),i="",l=function(e){var l=t[e];void 0!==a[l]?!function(){var e=a[l],t=i.length;i+=e;var u=function(n){return(0,o.default)(n,t,l.length,e.length)};n=n.map(u),r=r.map(u)}():i+=l},s=0;s<t.length;s++)l(s);return Object.assign({},e,{text:i,inlineStyleRanges:r,entityRanges:n})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(){var n=e.apply(void 0,arguments);return void 0!==n&&null!==n?n:t.apply(void 0,arguments)}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){return"function"==typeof e?e(t):e[t.type]}}},function(e,n){e.exports=t}])});